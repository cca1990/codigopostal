var LAST_PAGE=7299,FIRST_PAGE=1,TOTAL_RECORDS=145962,firstPage,nextPage,lastPage,prevPage,prevTerm="",updatePageLinks=function(e){TOTAL_RECORDS=e.page.totalElements,LAST_PAGE=e.page.totalPages-1},showPostalCodesByPage=function(e){$("#search-button").toggleClass("active"),$.get("/api/postalCodes?page="+e,function(e){populateTable(e),updatePageLinks(e)})},showPostalCodesBySimilarTerm=function(e,t){$("#search-button").toggleClass("active"),$.get("/api/postalCodes/search/findSimilar?term="+e+"&page="+(t-1),function(t){populateTable(t),updatePageLinks(t),t.page.size>t.page.totalElements?$(".pagination-holder").html(""):prevTerm!=e&&($(".pagination-holder").html(""),$(".pagination-holder").html('<ul class="pagination-sm"></ul>'),$(".pagination-sm").twbsPagination({totalPages:LAST_PAGE,visiblePages:5,first:"<<",prev:"<",next:">",last:">>",onPageClick:function(t,a){showPostalCodesBySimilarTerm(e,a)}})),prevTerm=e})},populateTable=function(e){var t=$("#codigos-postales tbody"),a="";$.each(e._embedded.postalCodes,function(e,t){a+="<tr><td>"+t.codigoPostal+"</td><td>"+t.colonia+"</td><td>"+t.municipio+"</td><td>"+t.estado+"</td></tr>"}),t.html(a);var o=$("#found-elements");e.page.totalElements<e.page.size?o.html("<h5>"+e.page.totalElements+" ["+$("#search-input").val()+"]</h5>"):o.html("<h5>"+e.page.size+" / "+e.page.totalElements+" ["+$("#search-input").val()+"]</h5>"),$("#search-button").toggleClass("active")};$(document).ready(function(){$("#search-div").show(),$("#loading-div").hide(),$("input[type='text']").on("click",function(){$(this).select()}),$("#search-input").keyup(function(e){13==e.keyCode&&showPostalCodesBySimilarTerm($("#search-input").val(),1)}),$("#search-button").click(function(){showPostalCodesBySimilarTerm($("#search-input").val(),1)})});