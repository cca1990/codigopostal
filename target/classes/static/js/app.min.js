var prevTerm="",findBySimilar=function(t,e){$("#search-button").toggleClass("active"),$.get("/api/postalCodes/search/findSimilar?term="+t+"&page="+e,function(e){populateTable(e),e.page.size>e.page.totalElements?$(".pagination-holder").html(""):t!=prevTerm&&e.page.size<e.page.totalElements&&($(".pagination-holder").html(""),$(".pagination-holder").html('<ul class="pagination-sm"></ul>'),$(".pagination-sm").twbsPagination({totalPages:e.page.totalPages,visiblePages:5,first:"<<",prev:"<",next:">",last:">>",onPageClick:function(e,a){findBySimilar(t,a-1)}})),prevTerm=t})},populateTable=function(t){var e=$("#codigos-postales tbody"),a="";$.each(t._embedded.postalCodes,function(t,e){a+="<tr><td>"+e.codigoPostal+"</td><td>"+e.colonia+"</td><td>"+e.municipio+"</td><td>"+e.estado+"</td></tr>"}),e.html(a);var i=$("#found-elements");t.page.totalElements<t.page.size?i.html("<h5>"+t.page.totalElements+" ["+$("#search-input").val()+"]</h5>"):i.html("<h5>"+t.page.size+" / "+t.page.totalElements+" ["+$("#search-input").val()+"]</h5>"),$("#search-button").toggleClass("active")};$(document).ready(function(){$("#search-div").show(),$("#loading-div").hide(),$("input[type='text']").on("click",function(){$(this).select()}),$("#search-input").keyup(function(t){13==t.keyCode&&findBySimilar($("#search-input").val(),0)}),$("#search-button").click(function(){findBySimilar($("#search-input").val(),0)})});